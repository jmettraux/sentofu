openapi: 3.0.0
info:
  version: 1.0.0
  title: Sentifi Intelligence - Company API
  description: |
    Company module API documentation
tags:
  - name: Topic Search
    description: Search for a company by name or by ticker to get the internal id
  - name: Topic Summary Price
    description: >
      Get closing price, and daily price change (absolute and percentage) from
      one trading day

      before, for a topic id
  - name: Topic Summary Performances
    description: >
      Get sentiment label (positive, negative, low), attention buzz label
      (extreme, high, low),

      values and value change over last 24hours, comparison of values vs sector
      and vs the index
  - name: Topic Summary Insights
    description: >
      Get descriptive summary about how the sentiment score & attention buzz
      have changed over the

      past 24 hours
  - name: Topic Stock Price
    description: >
      Get time series of daily closing prices or price simple moving average for
      a company during

      the selected time period
  - name: Topic Top Comparision
    description: >
      Get top 5 stocks by market cap, sentiment or price performance in the same
      sector or industry

      over a specified time frame
  - name: Topic Price Performance
    description: >
      Get time series of stock price, price performance or price simple moving
      average for a list of

      companies over a specified time frame
  - name: Topic Sentiment
    description: >
      Get time series of daily sentiment or sentiment simple moving average for
      a list of companies

      over a specified time frame
  - name: Topic Attention
    description: >
      Get daily attention for a list of topics selected by the user over a
      specified time frame

      (number of mentions)
  - name: Topic Performance
    description: >
      Get sentiment score, attention buzz values and labels, price performance
      and market cap for a

      list of topics selected by the user for a specified time frame
  - name: Peer Companies
    description: >
      Get a list of global peer companies by market cap in the sector. Always
      return <= 100 items
  - name: Topic Period Sentiment
    description: >
      Get sentiment score and change for a list of selected topics for today,
      7day ago, 1M (30 days)

      ago, 3M (90 days) ago, 6M (180 days) ago, 1Y (365 days) ago and custom
      period, as well as sentiment

      label and value for today, and the min and max values and labels over the
      past year.
  - name: Topic Period Attention
    description: >
      Get sentiment score and change for a list of selected topics for today,
      7day ago, 1M (30 days)

      ago, 3M (90 days) ago, 6M (180 days) ago, 1Y (365 days) ago and custom
      period, as well as sentiment

      label and value for today, and the min and max values and labels over the
      past year.
  - name: Topic Period Sentiment Summary
    description: >
      Get sentiment score value, label and change for a topic for the time
      period selected by the user

      and sentiment score value and score change for the topic, for its sector
      and industry today,

      7day ago, 1M ago, 3M ago, 6M ago, 1Y ago, min and max values over the last
      year and summarised

      text on how the topic sentiment score compares to its sector for the
      custom selected period
  - name: Topic Period Attention Buzz Summary
    description: >
      Get attention buzz value, label and change for a topic for the time period
      selected by the user

      and attention buzz value and change for the topic, its sector and industry
      today, 7day ago,

      1M ago, 3M ago, 6M ago, 1Y ago and custom period an the min and max values
      and labels over the past year.
  - name: Influencer Group Topic Period Sentiment
    description: >
      For all influencer groups, get sentiment score value, label and change for
      a topic for the

      time period selected by the user and sentiment score value and score
      change for the topic,

      for its sector and industry today, 7day ago, 1M ago, 3M ago, 6M ago, 1Y
      ago, min and max values

      over the last year and summarised text on how the topic sentiment score
      compares to its sector

      for the custom selected period
  - name: Influencer Group Topic Period Attention Buzz
    description: >
      For all influencer groups, get attention buzz value, label and change for
      a topic for the time

      period selected by the user and attention buzz value and change for the
      topic, its sector and

      industry today, 7day ago, 1M ago, 3M ago, 6M ago, 1Y ago and custom period
      an the min and max

      values and labels over the past year.
  - name: Topic Top Influencer
    description: >
      Get top 10 influencer ids by the highest influencer score for the given
      topic in the given time frame.
  - name: Topic Influencer Sentiment
    description: >
      Get time series or simple moving average of sentiment scores for a list of
      influencers for a

      single topic over a selected time frame
  - name: Influencer Group Topic Sentiment
    description: >
      Get time series or simple moving average of sentiment scores for an
      influencer-group for a single

      topic over a selected time frame
  - name: List of Influencers
    description: Get all the influencer groups and their ids
  - name: Influencer Search
    description: |
      Look up influencers by a keyword and get matching influencers
  - name: Influencer message search
    description: >
      Get messages talking about a list of topics over the time period selected
      by the user, filtered

      by influencer and channel, sorted by date or sentiment score
  - name: Message Event Search
    description: >
      Get messages talking about an event and a list of topics over the time
      period selected by the

      user, filtered by channel and sorted by date or sentiment score
  - name: Event Group Options
    description: >
      Get the list of event categories and their IDs which can be used to filter
      results
  - name: Topic Earnings
    description: >
      Get earnings results per share for a topic and summarised text about the
      predictability power

      of pre-earnings sentiment score for the last 4 reporting periods, as well
      as expectations and

      sentiment about upcoming earnings.
  - name: Period Event Sentiment
    description: >
      For a given topic, get the events with either positive or negative
      sentiment score that are

      discussed by top 10, top 10% of influencers or all influencers for the
      time period selected

      by the user, and for the standard time frames (7d, 1m, 3m, 6m, 12m)
  - name: Event Top Influencer
    description: >
      Get the list of events talked about by the top 10 influencers by
      influencer score, over the

      selected time period
  - name: Period Attention Buzz
    description: >
      Get attention buzz and change for the events discussed by the top 10 or
      top 10%

      influencers or all influencers for a topic or a list of topics for the
      time period selected by

      the user, and over the standard time frames (7day ago, 1M ago, 3M ago, 6M
      ago, 1Y ago and custom period)
  - name: Peer Companies Event
    description: >
      Get peer companies from the same sector with a similar market
      capitalisation which have the same event
  - name: Performance Event
    description: >
      Get event specific sentiment score value and label, attention buzz value
      and label, price performance

      and market cap for a topic or a list of topics over the time period
      selected by the user
  - name: Event Sentiment
    description: >
      Get time series of daily sentiment score or simple moving average of
      sentiment score for a

      list of topics (up to 50)
  - name: Event Attention
    description: |
      Get time series of daily attention for a list of topics (up to 50)
servers:
  - url: 'https://apis.sentifi.com/v1/intelligence'
paths:
  /topic-search:
    get:
      tags:
        - Topic Search
      summary: Search for a company by name or by ticker to get the internal id
      parameters:
        - in: header
          name: Authorization
          schema:
            type: string
            enum:
              - Bearer
          required: true
        - name: size
          in: query
          description: amount of top items (topics) returned from the search
          schema:
            type: integer
            format: int64
            default: 5
        - name: category
          in: query
          description: >-
            criteria for filtering topics. For wide search, don't send this
            param
          schema:
            type: string
            enum:
              - industry
              - sector
              - peers
        - name: topic-id
          in: query
          description: topic id for searching
          schema:
            type: integer
        - name: keyword
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/CompanyInfoShort'
                      extra:
                        type: object
                        properties:
                          updatedTime:
                            type: string
                            format: date-time
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/summary-price':
    get:
      tags:
        - Topic Summary Price
      summary: >-
        Get closing price, and daily price change (absolute and percentage) from
        one trading day before, for a topic id
      parameters:
        - name: id
          in: path
          description: ID of topic
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topicInfo:
                            $ref: '#/components/schemas/TopicInfo'
                          closeMarketDate:
                            type: string
                            format: date-time
                            description: use for as of date
                          price:
                            type: number
                            format: float
                            description: Closing price
                          priceChange:
                            type: number
                            format: float
                            description: Numerical price value change
                          priceChangePercent:
                            type: number
                            format: float
                            description: >
                              How much the new price changed from last price as
                              a % of last price.

                              This value needs to be multiplied by a 100 to
                              become percent
                          currency:
                            type: string
                            example: USD
                            description: >-
                              Currency of primary listing/ in which the stock is
                              traded
  '/topic/{id}/summary-performances':
    get:
      tags:
        - Topic Summary Performances
      summary: >-
        Get sentiment label (positive, negative, low), attention buzz label
        (extreme, high, low),
              values and value change over last 24hours, comparison of values vs sector and vs the index
      parameters:
        - name: id
          in: path
          description: ID of topic
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          sentiment:
                            type: object
                            properties:
                              label:
                                type: string
                                description: The label of the sentiment score
                              value:
                                type: number
                                format: float
                                description: Sentiment score value
                              valueChange:
                                type: number
                                description: Change in Sentiment Score for the last 6 hours
                          attentionBuzz:
                            type: object
                            properties:
                              label:
                                type: string
                                description: The label of the Attention Buzz
                              value:
                                type: number
                                format: float
                                description: Attention Buzz score value
                              valueChange:
                                type: number
                                description: Change in Attention Buzz for the last 6 hours
                          sentimentVsSector:
                            type: object
                            properties:
                              label:
                                type: string
                                description: Sentiment label of the Sector
                              value:
                                type: number
                                format: float
                                description: Sentiment score of the Sector
                              valueChange:
                                type: number
                                description: >-
                                  How has the sentiment score changed for the
                                  Sector
                              name:
                                type: string
                                description: The Sector name
                          sentimentVsIndex:
                            type: object
                            properties:
                              label:
                                type: string
                                description: Sentiment label of the Index
                              value:
                                type: number
                                format: float
                                description: Sentiment score of the Index
                              valueChange:
                                type: number
                                description: >-
                                  How has the sentiment score changed for the
                                  Index
                              name:
                                type: string
                                description: The Index name
                          updateTime:
                            type: string
                            format: date-time
                            description: Date and time when the query was executed in UTC
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/summary-insights':
    get:
      tags:
        - Topic Summary Insights
      summary: >-
        Get descriptive summary about how the sentiment score & attention buzz
        have changed over the past 24 hours
      parameters:
        - name: id
          in: path
          description: ID of topic
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            direction:
                              type: string
                              enum:
                                - up
                                - down
                              example: up
                            content:
                              type: string
                              example: >-
                                2.5% more positive on RDSA than on the Energy
                                sector
                              description: >
                                Summary text, naming how sentiment or attention
                                has developed over

                                the last 6 hour period or over the last day.
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/stock-price':
    get:
      tags:
        - Topic Stock Price
      summary: >-
        Get time series of daily closing prices or price simple moving average
        for a company during the selected time period
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: number
            format: int64
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topicInfo:
                            $ref: '#/components/schemas/TopicInfo'
                          prices:
                            type: array
                            items:
                              $ref: '#/components/schemas/Price'
                          currency:
                            type: string
                            example: USD
                            description: >-
                              Currency of primary listing/ in which the stock is
                              traded
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/top-comparison':
    get:
      tags:
        - Topic Top Comparision
      summary: >-
        Get top 5 stocks by market cap, sentiment or price performance in the
        same sector or industry over a specified time frame
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: number
            format: int64
            description: Id of the topic
        - name: by
          in: query
          schema:
            type: string
            enum:
              - sector
              - industry
            description: |
              Parameter to indicate get results for by sector or industry
        - name: base-on
          in: query
          schema:
            type: string
            enum:
              - price-performance
              - market-cap
              - sentiment
            description: >
              Parameter to indicate the result to be based on
              price-performance/market-cap/sentiment
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/TopicInfo'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /topic/price-performance:
    get:
      tags:
        - Topic Price Performance
      summary: >-
        Get time series of stock price, price performance or price simple moving
        average for a list of companies over a specified time frame
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          schema:
            type: string
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            info:
                              $ref: '#/components/schemas/TopicInfo'
                            performances:
                              type: array
                              items:
                                $ref: '#/components/schemas/PricePerformance'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /sentiment/topic:
    get:
      tags:
        - Topic Sentiment
      summary: >-
        Get time series of daily sentiment or sentiment simple moving average
        for a list of companies over a specified time frame
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            sentiments:
                              type: array
                              items:
                                $ref: '#/components/schemas/Score'
                            info:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: The id of the topic in our database
                                name:
                                  type: string
                                  description: Name of topic id
                                ticker:
                                  type: string
                                  description: Ticker symbol of topic id
                                urn:
                                  type: string
                                  description: >
                                    Link that would lead to the old intelligence
                                    product

                                    http://www.sentifi.com/
  /attention/topic:
    get:
      tags:
        - Topic Attention
      summary: >-
        Get daily attention for a list of topics selected by the user over a
        specified time frame (number of mentions)
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            attentions:
                              type: array
                              items:
                                $ref: '#/components/schemas/Attention'
                            topicInfo:
                              $ref: '#/components/schemas/TopicInfo'
  /performance:
    get:
      tags:
        - Topic Performance
      summary: >-
        Get sentiment score, attention buzz values and labels, price performance
        and market cap for a list of topics selected by the user for a specified
        time frame
      parameters:
        - name: topic-ids
          in: query
          description: 'list of ids separated `,`'
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          summary:
                            type: object
                            properties:
                              negative:
                                type: number
                                description: >
                                  Amount of negative messages about given Topic
                                  within specified

                                  time frame
                              neutral:
                                type: number
                                description: >
                                  Amount of neutral messages about given Topic
                                  within specified

                                  time frame
                              positive:
                                type: number
                                description: >
                                  Amount of positive messages about given Topic
                                  within specified

                                  time frame
                          groupingInfo:
                            type: object
                            properties:
                              totalTopic:
                                type: number
                                description: |
                                  Total number of companies in same sector
                              groupingId:
                                type: number
                                description: |
                                  Internal grouping ID for the topic
                              groupingName:
                                type: string
                                description: >
                                  Morningstar Taxonomy Name for the grouping
                                  Information
                          performances:
                            type: array
                            items:
                              type: object
                              properties:
                                topicInfo:
                                  $ref: '#/components/schemas/TopicInfo'
                                sentiment:
                                  $ref: '#/components/schemas/Score'
                                attentionBuzz:
                                  $ref: '#/components/schemas/AttentionBuzz'
                                pricePerformance:
                                  type: number
                                  format: float
                                  description: >
                                    Price compared to last day, or price
                                    calculated with the value

                                    of simple moving average
                                marketCap:
                                  type: number
                                  format: float
                                  description: |
                                    Company's market cap
                                currency:
                                  type: string
                                  example: USD
                                  description: >
                                    Currency of primary listing/ in which the
                                    stock is traded
                      extra:
                        type: object
                        properties:
                          total:
                            type: number
                            description: total companies in same sectors
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /peer-companies/topic:
    get:
      tags:
        - Peer Companies
      summary: >-
        Get a list of global peer companies by market cap in the sector. Always
        return <= 100 items
      parameters:
        - name: topic-id
          in: query
          description: Id of the topic
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          groupingInfo:
                            type: object
                            properties:
                              totalTopic:
                                type: number
                                description: |
                                  Total number of companies in same sector
                              groupingId:
                                type: number
                                description: |
                                  Internal grouping ID for the topic
                              groupingName:
                                type: string
                                description: >
                                  Morningstar Taxonomy Name for the grouping
                                  Information
                          topics:
                            type: array
                            items:
                              allOf:
                                - $ref: '#/components/schemas/TopicInfo'
                                - type: object
                                  properties:
                                    isPeer:
                                      type: boolean
                                      description: >
                                        Whether they are in the same peer

                                        (only the first 6 (including chosen
                                        company)) by most similar

                                        market cap
                                    isSameInsdustry:
                                      type: boolean
                                      description: >
                                        Whether they are in the same industry
                                        (top 22 by market cap)

                                        - peers that appeared in isPeer will be
                                        exluded
                                    isSameSector:
                                      type: boolean
                                      description: >
                                        Whether they are in the same sector (top
                                        22 by market cap)

                                        - peers that appear in isPeer /
                                        isSameIndustry will be excluded
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-sentiment/topic:
    get:
      tags:
        - Topic Period Sentiment
      summary: >-
        Get sentiment score and change for a list of selected topics for today,
        7day ago, 1M (30 days) ago, 3M (90 days) ago, 6M (180 days) ago, 1Y (365
        days) ago and custom period, as well as sentiment label and value for
        today, and the min and max values and labels over the past year.
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          schema:
            type: string
          required: true
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                topicInfo:
                                  $ref: '#/components/schemas/TopicInfo'
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: Industry ID
                                    name:
                                      type: string
                                      description: Industry name
                            - $ref: '#/components/schemas/ScoreTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-attention-buzz/topic:
    get:
      tags:
        - Topic Period Attention
      summary: >-
        Get sentiment score and change for a list of selected topics for today,
        7day ago, 1M (28 days) ago, 3M (91 days) ago, 6M (182 days) ago, 1Y (365
        days) ago and custom period, as well as sentiment label and value for
        today, and the min and max values and labels over the past year.
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          schema:
            type: string
          required: true
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                topicInfo:
                                  $ref: '#/components/schemas/TopicInfo'
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: Industry ID
                                    name:
                                      type: string
                                      description: Industry name
                            - $ref: '#/components/schemas/AttentionTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-sentiment/summary:
    get:
      tags:
        - Topic Period Sentiment Summary
      summary: >-
        Get sentiment score value, label and change for a topic for the time
        period selected by the user and sentiment score value and score change
        for the topic, for its sector and industry today, 7day ago, 1M ago, 3M
        ago, 6M ago, 1Y ago, min and max values over the last year and
        summarised text on how the topic sentiment score compares to its sector
        for the custom selected period
      parameters:
        - name: topic-id
          in: query
          schema:
            type: number
            description: Id of the topic
          required: true
          description: Id of the topic
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topic:
                            type: object
                            description: Sentiment info of Topic
                            allOf:
                              - type: object
                                properties:
                                  topicInfo:
                                    $ref: '#/components/schemas/TopicInfo'
                              - $ref: '#/components/schemas/ScoreTimeWindows'
                          industry:
                            type: object
                            description: Sentiment info of the Industry
                            allOf:
                              - type: object
                                properties:
                                  groupingInfo:
                                    type: object
                                    properties:
                                      id:
                                        type: number
                                        description: Internal grouping ID for industry
                                      name:
                                        type: string
                                        description: Industry name
                              - $ref: '#/components/schemas/ScoreTimeWindows'
                          sector:
                            type: object
                            allOf:
                              - type: object
                                description: Sentiment info of the Sector
                                properties:
                                  groupingInfo:
                                    type: object
                                    properties:
                                      id:
                                        type: number
                                        description: Internal grouping ID for industry
                                      name:
                                        type: string
                                        description: Sector name
                              - $ref: '#/components/schemas/ScoreTimeWindows'
                          textSummarization:
                            type: string
                            description: textual summary of the analytics
                            example: >-
                              Crowd sentiment around Apple Inc and the Consumer
                              Electronics sector have both been neutral.
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-attention-buzz/summary:
    get:
      tags:
        - Topic Period Attention Buzz Summary
      summary: >-
        Get attention buzz value, label and change for a topic for the time
        period selected by the user and attention buzz value and change for the
        topic, its sector and industry today, 7day ago, 1M ago, 3M ago, 6M ago,
        1Y ago and custom period an the min and max values and labels over the
        past year.
      parameters:
        - name: topic-id
          in: query
          schema:
            type: number
            description: Id of the topic
          required: true
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topic:
                            type: object
                            allOf:
                              - type: object
                                properties:
                                  topicInfo:
                                    $ref: '#/components/schemas/TopicInfo'
                              - $ref: '#/components/schemas/AttentionTimeWindows'
                          industry:
                            type: object
                            description: Attention Buzz info of the industry
                            allOf:
                              - type: object
                                properties:
                                  groupingInfo:
                                    type: object
                                    properties:
                                      id:
                                        type: number
                                        description: Internal grouping ID for industry
                                      name:
                                        type: string
                                        description: Industry name
                              - $ref: '#/components/schemas/AttentionTimeWindows'
                          sector:
                            type: object
                            description: Attention Buzz info of the sector
                            allOf:
                              - type: object
                                properties:
                                  groupingInfo:
                                    type: object
                                    properties:
                                      id:
                                        type: number
                                        description: Internal group ID for the sector
                                      name:
                                        type: string
                                        description: Sector name
                              - $ref: '#/components/schemas/AttentionTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-sentiment/influencer-group:
    get:
      tags:
        - Influencer Group Topic Period Sentiment
      summary: >-
        For all influencer groups, get sentiment score value, label and change
        for a topic for the time period selected by the user and sentiment score
        value and score change for the topic, for its sector and industry today,
        7day ago, 1M ago, 3M ago, 6M ago, 1Y ago, min and max values over the
        last year and summarised text on how the topic sentiment score compares
        to its sector for the custom selected period.
      parameters:
        - name: topic-id
          in: query
          description: Id of the topic
          schema:
            type: number
          required: true
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: >-
                                        Internal grouping ID used for
                                        categorization
                                    name:
                                      type: string
                                      description: Name of influencer group
                            - $ref: '#/components/schemas/ScoreTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /period-attention-buzz/influencer-group:
    get:
      tags:
        - Influencer Group Topic Period Attention Buzz
      summary: >-
        For all influencer groups, get attention buzz value, label and change
        for a topic for the time period selected by the user and attention buzz
        value and change for the topic, its sector and industry today, 7day ago,
        1M ago, 3M ago, 6M ago, 1Y ago and custom period an the min and max
        values and labels over the past year.
      parameters:
        - name: topic-id
          in: query
          description: a single topic id
          schema:
            type: number
          required: true
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: >-
                                        Internal grouping ID for influencer
                                        group
                                    name:
                                      type: string
                                      description: Name of influencer group
                            - $ref: '#/components/schemas/AttentionTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/top-influencer':
    get:
      tags:
        - Topic Top Influencer
      summary: >-
        Get top 10 influencer ids by the highest influencer score for the given
        topic in the given time frame.
      parameters:
        - name: id
          in: path
          description: Id of the topic id
          required: true
          schema:
            type: number
        - name: size
          in: query
          description: number of results desired
          schema:
            type: number
            default: 10
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: >-
                                Internal sns_account_id for the top 10
                                Influencers
                            name:
                              type: string
                              description: Name of influencer group
  /sentiment/influencer:
    get:
      tags:
        - Topic Influencer Sentiment
      summary: >-
        Get time series or simple moving average of sentiment scores for a list
        of influencers for a single topic over a selected time frame
      parameters:
        - name: topic-id
          in: query
          description: Id of the topic
          schema:
            type: string
          required: true
        - name: influencer-ids
          in: query
          description: 'a list of influencer ids separated by `,`'
          schema:
            type: string
          required: true
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            sentiments:
                              type: array
                              items:
                                $ref: '#/components/schemas/Score'
                            info:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: Internal grouping ID for influencer group
                                name:
                                  type: string
                                  description: Name of influencer group
  /sentiment/influencer-group:
    get:
      tags:
        - Influencer Group Topic Sentiment
      summary: >-
        Get time series or simple moving average of sentiment scores for an
        influencer-group for a single topic over a selected time frame
      parameters:
        - name: topic-id
          in: query
          description: Id of the topics
          schema:
            type: string
          required: true
        - name: influencer-group-ids
          in: query
          description: 'a list of influencer group ids separated by `,`'
          schema:
            type: string
          required: true
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            sentiments:
                              type: array
                              items:
                                $ref: '#/components/schemas/Score'
                            info:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: Internal grouping ID for influencer group
                                name:
                                  type: string
                                  description: Name of influencer group
  /option/influencer-group:
    get:
      tags:
        - List of Influencers
      summary: Get all the influencer groups and their ids
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/InfluencerFilterType'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /influencer-search:
    get:
      tags:
        - Influencer Search
      summary: Look up influencers by a keyword and get matching influencers
      parameters:
        - name: size
          in: query
          description: 'Number of results desired, default is 5'
          schema:
            type: integer
            format: int64
            default: 5
        - name: topic-id
          in: query
          description: Id of the topic in context
          schema:
            type: integer
            format: int64
            example: 579
          required: true
        - name: keyword
          in: query
          required: true
          schema:
            type: string
            description: Topic keyword
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Internal sns_account_id for the Influencer
                            name:
                              type: string
                              description: Display Name of the Influencer
                            avatarUrl:
                              type: string
                              description: Avatar URL for the Influencer
                            groupingName:
                              type: string
                              description: Grouping Information of the Influencer
                            screenName:
                              type: string
                              description: >-
                                Twitter Handle for the Influencer (only for
                                Twitter Profiles, other Profiles = null)
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /message/search/influencers:
    get:
      tags:
        - Influencer message search
      summary: >-
        Get messages talking about a list of topics over the time period
        selected by the user, filtered by influencer and channel, sorted by date
        or sentiment score
      parameters:
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
        - in: query
          name: channel
          schema:
            type: string
            enum:
              - twitter
              - blogs
              - news
          description: message channel
        - in: query
          name: sort-by
          schema:
            type: string
            enum:
              - oldest-to-newest
              - newest-to-oldest
              - sentiment-asc
              - sentiment-desc
          description: Sorting criteria
        - in: query
          name: mention-topics
          schema:
            type: string
          description: 'topic id list separated by `,`'
        - in: query
          name: influencer-group-ids
          description: |
            list of influncer's type separated by `,`

            * top 10 influencer will be `-1` string
            * top 10% influencers will be `-2` string
            * all influencers is `-3`
          schema:
            type: string
            default: -1
          example:
            - '203,-1'
        - in: query
          name: size
          description: number of results desired
          schema:
            type: number
            default: 20
        - in: query
          name: from
          description: 'support paging, get message after `from` number'
          schema:
            type: number
            default: 0
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          messages:
                            type: array
                            items:
                              $ref: '#/components/schemas/Message'
                          aggregations:
                            type: array
                            items:
                              type: object
                              properties:
                                date:
                                  type: string
                                  format: date-time
                                  description: Date for the aggregation
                                count:
                                  type: number
                                  format: int64
                                  description: >-
                                    Number of messages according to filter based
                                    on the day above
                          total:
                            type: number
                            format: int64
                      extra:
                        type: object
                        properties:
                          total:
                            type: number
                            format: int64
                          page:
                            type: number
                            format: int64
                          nextPage:
                            type: number
                            format: int64
                          prevPage:
                            type: number
                            format: int64
  /message/search/events:
    get:
      tags:
        - Message Event Search
      summary: >-
        Get messages talking about an event and a list of topics over the time
        period selected by the user, filtered by channel and sorted by date or
        sentiment score
      parameters:
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
        - in: query
          name: channel
          description: Channel of the message
          schema:
            type: string
            enum:
              - twitter
              - blogs
              - news
        - in: query
          name: sort-by
          description: sorting options
          schema:
            type: string
            enum:
              - oldest-to-newest
              - newest-to-oldest
              - sentiment-asc
              - sentiment-desc
        - in: query
          name: mention-topics
          schema:
            type: string
          description: 'topic id list separated by `,`'
        - in: query
          name: impact-group-id
          description: a single impact (event) group id
          schema:
            type: string
        - in: query
          name: impact-ids
          description: '* Top 5 trending: ''-1'' * Operation: ''operation'''
          schema:
            type: string
        - in: query
          name: size
          schema:
            type: number
            default: 20
        - in: query
          name: from
          description: 'support paging, get message after `from` number'
          schema:
            type: number
            default: 0
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          messages:
                            type: array
                            items:
                              $ref: '#/components/schemas/Message'
                          aggregations:
                            type: array
                            items:
                              type: object
                              properties:
                                date:
                                  type: string
                                  format: date-time
                                  description: Date for the aggregation
                                count:
                                  type: number
                                  format: int64
                                  description: >-
                                    Number of messages according to filter based
                                    on the day above
                          topEvents:
                            type: object
                            properties:
                              id:
                                type: number
                                format: int64
                                description: Impact seq id of the event in Sentifi system
                              name:
                                type: string
                                description: >
                                  Event grouping name (Corporate Events,
                                  Economic Events, Environmental Events,

                                  Financial Market Events, Political Events,
                                  Regulatory Events, Societal Events,

                                  Technological Events)
                              groupId:
                                type: number
                                format: int64
                                description: Event Category id
                          total:
                            type: number
                            format: int64
                            description: Number of total messages according to the filter
  /option/event-group:
    get:
      tags:
        - Event Group Options
      summary: >-
        Get the list of event categories and their IDs which can be used to
        filter results
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/EventFilterType'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  '/topic/{id}/earnings':
    get:
      tags:
        - Topic Earnings
      summary: >-
        Get earnings results per share for a topic and summarised text about the
        predictability power of pre-earnings sentiment score for the last 4
        reporting periods, as well as expectations and sentiment about upcoming
        earnings.
      parameters:
        - name: id
          in: path
          description: Id of the topic
          required: true
          schema:
            type: integer
            format: int64
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          history:
                            type: array
                            items:
                              type: object
                              properties:
                                fiscalPeriodLabel:
                                  type: string
                                  example: Q1
                                  description: >-
                                    Quartal of the fiscal period (Q1, Q2, Q3,
                                    Q4)
                                fiscalPeriodYear:
                                  type: string
                                  example: 2017
                                  description: Fiscal Year
                                reportedDate:
                                  type: string
                                  format: date-time
                                  description: Date and time of the report in UTC
                                epsEstimated:
                                  type: number
                                  format: float
                                  example: 0.92
                                  description: Estimated EPS
                                epsActual:
                                  type: number
                                  format: float
                                  example: 0.94
                                  description: Actual EPS
                                comparison:
                                  type: string
                                  enum:
                                    - inline
                                    - beat
                                    - miss
                                  example: inline
                                  description: 'Beat, Miss or In-line'
                                sentiment:
                                  type: object
                                  properties:
                                    sentimentScorePreEarnings:
                                      type: number
                                      format: float
                                      description: >-
                                        Period sentiment score for 7 days before
                                        the report.
                                    sentimentScorePostEarnings:
                                      type: number
                                      format: float
                                      description: >-
                                        Period sentiment score for 4 days after
                                        the report.
                                    sentimentChange:
                                      type: number
                                      format: float
                                      description: >-
                                        The change of sentiment score from pre
                                        to post report
                                    sentiment:
                                      type: string
                                      enum:
                                        - positive
                                        - negative
                                        - ''
                                      description: >-
                                        Positive, negative based on the
                                        sentimentChange above
                          upcoming:
                            type: object
                            properties:
                              fiscalPeriodLabel:
                                type: string
                                example: Q1
                                description: >-
                                  Quartal of the upcoming fiscal period (Q1,
                                  Q2,...)
                              fiscalPeriodYear:
                                type: string
                                example: 2018
                                description: Fiscal Year of the upcoming period
                              estimatedReportDate:
                                type: string
                                format: date-time
                                description: Estimated time of the earnings report
                              fiscalPeriodEnd:
                                type: string
                                format: date-time
                                description: End of the fiscal period
                              epsEstimated:
                                type: number
                                example: 1.8
                                description: End of the fiscal period
                              messageSentimentBreakdown:
                                type: object
                                properties:
                                  negativeMessages:
                                    type: number
                                    description: >-
                                      Number of negative messages since last
                                      report
                                  neutralMessages:
                                    type: number
                                    description: >-
                                      Number of neutral messages since last
                                      report
                                  positiveMessages:
                                    type: number
                                    description: >-
                                      Number of positive messages since last
                                      report
                          summary:
                            type: string
                            example: >-
                              Over 2 of the last 4 quarters, prior positive
                              crowd sentiment has corresponded to earnings'
                              beat.
                            description: >-
                              Text summary about whether Sentiment could predict
                              earnings beat, miss, in-line
                          earningEventId:
                            type: string
                            example: ER
                            description: Event name related to Earnings Release
                          relatedMessageDate:
                            type: string
                            format: date-time
                            description: >-
                              Start date for calculating message sentiment
                              breakdown, Last quater reported date + 7 days
  /period-sentiment/event:
    get:
      tags:
        - Period Event Sentiment
      summary: >-
        For a given topic, get the events with either positive or negative
        sentiment score that are discussed by top 10, top 10% of influencers or
        all influencers for the time period selected by the user, and for the
        standard time frames (7d, 1m, 3m, 6m, 12m)
      parameters:
        - name: topic-id
          in: query
          description: Id of the topic id
          schema:
            type: string
          required: true
        - name: group-ids
          in: query
          description: |-
            a list of group ids separated by `,`
            * top 10 influencers: -1
            * top 10% influncers: -2
          schema:
            type: string
          required: true
          example: '113,114,185,-1'
        - name: sentiment-type
          description: 'sentiment type filter (negative, positive, neutral)'
          in: query
          schema:
            type: string
            enum:
              - positive
              - negative
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                eventInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                    name:
                                      type: string
                                      example: Financial Results
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: >-
                                        Impact seq id of the event in Sentifi
                                        system
                                    name:
                                      type: string
                                      example: Corporate
                                      description: Event name
                            - $ref: '#/components/schemas/ScoreTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /event/top-influencer:
    get:
      tags:
        - Event Top Influencer
      summary: >-
        Get the list of events talked about by the top 10 influencers by
        influencer score, over the selected time period
      parameters:
        - name: impact-ids
          in: query
          description: 'list of events separated by `,`'
          schema:
            type: string
        - name: topic-id
          in: query
          schema:
            type: number
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Internal ID of the Influencer
                          name:
                            type: string
                            description: Name of the Influencer
                          eventID:
                            type: number
                            description: Internal ID of the Event
                          groupingInfo:
                            type: object
                            properties:
                              id:
                                type: number
                                description: Internal grouping ID for influencer group
                              name:
                                type: string
                                example: Broker
                                description: Name of influencer group
                          score:
                            type: number
                            format: int64
                            description: >-
                              Influencer Score of that Influencer for the above
                              mentioned event
  /period-attention-buzz/event:
    get:
      tags:
        - Period Attention Buzz
      summary: >-
        Get attention buzz and change for the events discussed by the top 10 or
        top 10% influencers or all influencers for a topic or a list of topics
        for the time period selected by the user, and over the standard time
        frames (7day ago, 1M ago, 3M ago, 6M ago, 1Y ago and custom period)
      parameters:
        - name: topic-id
          in: query
          description: Id of the topic
          schema:
            type: string
          required: true
        - name: group-ids
          in: query
          description: |-
            a list of group ids separated by `,`
            * top 10 influencers: -1
            * top 10% influncers: -2
          schema:
            type: string
          example: '113,114,185,-1'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          allOf:
                            - type: object
                              properties:
                                eventInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: >-
                                        Impact seq id of the event in Sentifi
                                        system
                                    name:
                                      type: string
                                      example: Financial Results
                                      description: Event name
                                groupingInfo:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                      description: Internal event grouping id
                                    name:
                                      type: string
                                      example: Corporate
                                      description: Event group name
                            - $ref: '#/components/schemas/AttentionTimeWindows'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /peer-companies/event:
    get:
      tags:
        - Peer Companies Event
      summary: >-
        Get peer companies from the same sector with a similar market
        capitalisation which have the same event
      parameters:
        - name: topic-id
          in: query
          description: id of the topic
          required: true
          schema:
            type: integer
            format: int64
        - name: impact-id
          in: query
          description: Id of the event
          required: true
          schema:
            type: number
            format: int64
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          groupingInfo:
                            type: object
                            properties:
                              totalTopic:
                                type: number
                                description: >
                                  The number of peer companies which have the
                                  same event compared with the selected topic
                              groupingId:
                                type: number
                                description: Grouping id of the topic
                              groupingName:
                                type: string
                                description: >-
                                  Morningstar Taxonomy Name for the grouping
                                  information
                          topics:
                            type: array
                            items:
                              $ref: '#/components/schemas/PeerTopicInfo'
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /performance/event:
    get:
      tags:
        - Performance Event
      summary: >-
        Get event specific sentiment score value and label, attention buzz value
        and label, price performance and market cap for a topic or a list of
        topics over the time period selected by the user
      parameters:
        - name: topic-ids
          in: query
          description: 'list of ids separated by `,`'
          required: true
          schema:
            type: string
        - name: impact-id
          in: query
          description: id of the event
          required: true
          schema:
            type: number
            format: int64
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          summary:
                            type: object
                            properties:
                              negative:
                                type: number
                                description: >-
                                  Number of topics have sentiment label
                                  'negative'
                              neutral:
                                type: number
                                description: >-
                                  Number of topics have sentiment label
                                  'neutral'
                              positive:
                                type: number
                                description: >-
                                  Number of topics have sentiment label
                                  'neutral'
                          groupingInfo:
                            type: object
                            properties:
                              totalTopic:
                                type: number
                                description: Total companies in sector
                              groupingId:
                                type: number
                                description: Internal grouping ID used for categorization
                              groupingName:
                                type: string
                                description: Name of sector
                          performances:
                            type: array
                            items:
                              type: object
                              properties:
                                topicInfo:
                                  $ref: '#/components/schemas/TopicInfo'
                                sentiment:
                                  $ref: '#/components/schemas/Score'
                                attentionBuzz:
                                  $ref: '#/components/schemas/AttentionBuzz'
                                pricePerformance:
                                  type: number
                                  format: float
                                  description: >
                                    Price compared to last day, or price
                                    calculated with the value of

                                    simple moving average
                                marketCap:
                                  type: number
                                  format: float
                                  description: Company's market cap
                                currency:
                                  type: string
                                  example: USD
                                  description: >-
                                    Currency of primary listing/ in which the
                                    stock is traded
        default:
          description: error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponseError'
  /sentiment/event:
    get:
      tags:
        - Event Sentiment
      summary: >-
        Get time series of daily sentiment score or simple moving average of
        sentiment score for a list of topics (up to 50)
      parameters:
        - name: topic-ids
          in: query
          description: a list of topic ids
          schema:
            type: string
        - name: impact-id
          in: query
          description: Id of the event
          schema:
            type: string
        - $ref: '#/components/parameters/movingAvarage'
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            sentiments:
                              type: array
                              items:
                                $ref: '#/components/schemas/Score'
                            info:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: The id of the topic in our database
                                name:
                                  type: string
                                  description: Name of topic id
                                ticker:
                                  type: string
                                  description: Ticker symbol of topic id
                                urn:
                                  type: string
                                  description: >
                                    Link that would lead to the old intelligence
                                    product

                                    http://www.sentifi.com/
  /attention/event:
    get:
      tags:
        - Event Attention
      summary: Get time series of daily attention for a list of topics (up to 50)
      parameters:
        - name: topic-ids
          in: query
          description: 'a list of topic ids separated by `,`'
          schema:
            type: string
        - name: impact-id
          in: query
          description: event id
          schema:
            type: number
        - $ref: '#/components/parameters/dateStart'
        - $ref: '#/components/parameters/dateEnd'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponseSuccess'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            attentions:
                              type: array
                              items:
                                $ref: '#/components/schemas/Attention'
                            topicInfo:
                              $ref: '#/components/schemas/TopicInfo'
security:
  - BearerAuth: []
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
  schemas:
    CompanyInfoShort:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: integer
          format: int64
          description: Internal topic ID
        name:
          type: string
          description: Company Name
        urn:
          type: string
          format: uri
          description: >
            "Link that would lead to the old intelligence product
            http://www.sentifi.com/"
          example: /stocks/apple-inc
        exchanges:
          type: array
          items:
            type: string
          example:
            - NYSE
            - LSE
          description: List of stock exchange on which company have its stocks listed
        symbols:
          type: array
          items:
            type: string
          example:
            - IBM
            - IBML
          description: Ticker symbols
    Score:
      type: object
      properties:
        date:
          type: string
          format: date-time
          description: The date on which we have the sentiment score value
        value:
          type: number
          format: float
          description: Sentiment score value
        label:
          type: string
          enum:
            - positive
            - negative
            - neutral
          description: The label of the sentiment score
    PeriodScore:
      type: object
      properties:
        value:
          type: number
          description: Sentiment score value
        label:
          type: string
          description: The label of the sentiment score
        valueChange:
          type: number
          description: >-
            change of sentiment score in comparison with the same previous
            period
    ScoreTimeWindows:
      type: object
      properties:
        today:
          $ref: '#/components/schemas/Score'
        period:
          $ref: '#/components/schemas/PeriodScore'
        oneWeek:
          type: number
          format: float
          description: Sentiment score for a list of selected topics 7 days ago
        oneWeekChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 7 days ago
        oneMonth:
          type: number
          format: float
          description: Sentiment score for a list of selected topics 30 days ago
        oneMonthChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 30 days ago
        threeMonth:
          type: number
          format: float
          description: Sentiment score for a list of selected topics 90 days ago
        threeMonthChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 90 days ago
        sixMonth:
          type: number
          format: float
          description: Sentiment score for a list of selected topics 90 days ago
        sixMonthChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 90 days ago
        oneYear:
          type: number
          format: float
          description: Sentiment score for a list of selected topics 365 days ago
        oneYearChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 365 days ago
        minOneYear:
          $ref: '#/components/schemas/Score'
        maxOneYear:
          $ref: '#/components/schemas/Score'
    AttentionBuzzScore:
      type: object
      properties:
        value:
          type: number
          description: >
            Attention buzz for a list of selected topics during a given period

            (today, 7 days ago, 1M ago, 3M ago, 6M ago, 1Y ago and custom
            period)
        label:
          type: string
          description: |
            The label of the Attention Buzz
        valueChange:
          type: number
          description: >
            Change in attention buzz for a list of selected topics during a
            given period (today, 7 days ago, 1M ago, 3M ago, 6M ago, 1Y ago and
            custom period)
    AttentionTimeWindows:
      type: object
      properties:
        today:
          $ref: '#/components/schemas/AttentionBuzz'
        period:
          $ref: '#/components/schemas/AttentionBuzzScore'
        oneWeek:
          type: number
          format: float
          description: Attention buzz for a list of selected topics 7 days ago
        oneWeekChange:
          type: number
          format: float
          description: Change in attention buzz for a list of selected topics 7 days ago
        oneMonth:
          type: number
          format: float
          description: Attention buzz for a list of selected topics 30 days ago
        oneMonthChange:
          type: number
          format: float
          description: Change in attention buzz for a list of selected topics 30 days ago
        threeMonth:
          type: number
          format: float
          description: Attention buzz for a list of selected topics 90 days ago
        threeMonthChange:
          type: number
          format: float
          description: Change in attention buzz for a list of selected topics 90 days ago
        sixMonth:
          type: number
          format: float
          description: Attention buzz for a list of selected topics 120 days ago
        sixMonthChange:
          type: number
          format: float
          description: Change in attention buzz for a list of selected topics 90 days ago
        oneYear:
          type: number
          format: float
          description: Attention buzz for a list of selected topics 365 days ago
        oneYearChange:
          type: number
          format: float
          description: Change in sentiment score for a list of selected topics 365 days ago
        minOneYear:
          $ref: '#/components/schemas/AttentionBuzz'
        maxOneYear:
          $ref: '#/components/schemas/AttentionBuzz'
    AttentionBuzz:
      type: object
      properties:
        date:
          type: string
          format: date-time
          description: |
            The date on which we have the attention buzz value
        value:
          type: number
          format: float
          description: >
            Attention buzz for a list of topic selected by the user for a
            specific time frame
        label:
          type: string
          enum:
            - very low
            - low
            - neutral
            - high
            - extreme
          description: |
            The label of the Attention Buzz
    Attention:
      type: object
      properties:
        date:
          type: string
          format: date-time
          description: The date of attention value
        value:
          type: number
          format: int64
          description: Number of mentions of topic
    Price:
      type: object
      properties:
        date:
          type: string
          format: date-time
          description: Date for EOD price
        price:
          type: number
          format: float
          example: 78.2
          description: EOD price value
    PricePerformance:
      type: object
      properties:
        date:
          type: string
          format: date-time
          description: Date of EOD price
        performance:
          type: number
          format: float
          example: 8.2
          description: >
            Price compared to last day, or price calculated with the value of
            simple moving average
    InfluencerFilterType:
      type: object
      properties:
        name:
          type: string
          description: Name of the Influencer Group
        id:
          type: string
          description: Internal ID of the Influencer Group
      example:
        - name: Top 10 influencers
          id: -1
          type: predefined
        - name: Top 10% influencers
          id: -2
          type: predefined
        - name: Brokers
          id: 703
          type: category
    EventFilterType:
      type: object
      properties:
        id:
          type: string
          example: economic
          description: Impact seq id of the event in Sentifi system
        name:
          type: string
          example: Economic
          description: >
            Event grouping name (Corporate Events, Economic Events,
            Environmental Events,

            Financial Market Events, Political Events, Regulatory Events,
            Societal Events,

            Technological Events)
        parentId:
          type: number
          format: int64
          description: Event parent grouping id
    Message:
      type: object
      properties:
        content:
          type: string
          description: Content of the message / article
        contentHtml:
          type: string
          description: Twitter embeddement for the message
        title:
          type: string
        channel:
          type: string
          enum:
            - twitter
            - news
            - blogs
          description: 'Publication channel of the message (Twitter, News, Blogs)'
        createdAt:
          type: string
          format: date-time
          description: Creation date of the message in Sentifi system in UTC
        publishedAt:
          type: string
          format: date-time
          description: Publication date of the message in UTC
        lang:
          type: string
          enum:
            - en
            - de
          description: >-
            Indicator for detected language as alpha iso 2 code (EN: English,
            DE: German)
        influencerScore:
          type: number
          description: Influencer Score of that Influencer for the topic mentioned
        url:
          type: string
          description: URL to the message / article
        publisher:
          type: object
          properties:
            snsName:
              type: string
              description: 'Name of the channel (tw, news, blogs)'
            snsId:
              type: string
              description: Publisher id in Sentifi system
            avatarUrl:
              type: string
              description: Avatar URL for the Influencer
            displayName:
              type: string
              description: Display Name of the Influencer
            screenName:
              type: string
              description: Screen Name of the Influencer
        id:
          type: string
          description: Internal ID for the message
    TopicInfo:
      type: object
      properties:
        id:
          type: number
          format: int64
          example: 579
          description: The id of the topic
        name:
          type: string
          example: Apple
          description: Name of the topic
        ticker:
          type: string
          example: AAPL
          description: Ticker symbol of the topic
        urn:
          type: string
          example: /stocks/apple-inc
          description: >
            Link that would lead to the old intelligence product
            http://www.sentifi.com/
    PeerTopicInfo:
      type: object
      properties:
        id:
          type: number
          format: int64
          example: 579
          description: The id of the topic
        name:
          type: string
          example: Apple
          description: Name of the topic
        ticker:
          type: string
          example: AAPL
          description: Ticker symbol of the topic
        urn:
          type: string
          example: /stocks/apple-inc
          description: >
            Link that would lead to the old intelligence product
            http://www.sentifi.com/
        isPeer:
          type: string
          description: >
            Whether they are in the same peer (only the first 6 (including
            chosen company))

            by most similar market cap
        isSameIndustry:
          type: string
          description: |
            Whether they are in the same industry (top 22 by market cap)
            - peers that appeared in isPeer will be exluded
        isSameSector:
          type: string
          description: |
            Whether they are in the same sector (top 22 by market cap)
            - peers that appear in isPeer / isSameIndustry will be excluded
    CurrencyInfo:
      type: object
      properties:
        isoCode:
          type: string
          example: USD
        name:
          type: string
          example: United States Dollar
        symbol:
          type: string
          example: USD
        id:
          type: number
          example: 2
    ApiResponseSuccess:
      type: object
      properties:
        data:
          type: object
        extra:
          type: object
          properties:
            updatedTime:
              type: string
              format: date-time
              description: Date and time when the query was executed in UTC
    ApiResponseError:
      type: object
      properties:
        extra:
          type: object
          properties:
            updatedTime:
              type: string
              format: date-time
            errorCode:
              type: integer
            errorMessage:
              type: string
  parameters:
    timeframe:
      in: query
      name: timeframe
      description: >-
        data's timeframe in previous x day(s). Following the requirement in
        ticket [INSNEW-6](https://sentifi.atlassian.net/browse/INSNEW-6)
      schema:
        type: integer
        enum:
          - 1
          - 7
          - 30
          - 90
          - 180
          - 365
          - 730
          - 1095
    timeSeriesFormat:
      in: query
      name: tsf
      schema:
        type: string
        enum:
          - series
          - endpoints
        default: endpoints
      description: >-
        timebased data list return from the api can be retreived as series or 2
        endpoints (start & end). Eg. when timeframe is 7day, with SERIES format
        it would return 7 data points, with ENDPOINTS it would return 2 data
        points (recent and last 7day data point).
    language:
      in: query
      name: lang
      schema:
        type: string
        enum:
          - en
          - de
        default: en
    dateStart:
      in: query
      name: start-date
      schema:
        type: string
      description: Start date of the period in 'YYYY-MM-DD' format
      example: '2018-12-01T00:00:00.000Z'
      required: true
    movingAvarage:
      in: query
      name: moving-average
      schema:
        type: number
      description: |
        If we don't set this param, the default moving average would be used as
        * For a time period of < 5 = default SMA for price: 1
        * For a time period of ≥ one week, < 1 month = default SMA for price: 5
        * For a time period of ≥ 1 month, < 2 month = default SMA for price: 20
        * For a time period of ≥ 2 month = default SMA for price: 50
    dateEnd:
      in: query
      name: end-date
      schema:
        type: string
      description: End date of the period in 'YYYY-MM-DD' format
      example: '2018-12-31T00:00:00.000Z'
      required: true